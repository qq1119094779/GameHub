<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>玩家信息</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <link type="text/css" rel="stylesheet" href="css/custom-ui.css">
    <link type="text/css" rel="stylesheet" href="css/select2.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="iconfont/iconfont.css">
    <script type="text/javascript" src="js/jquery1.91.min.js"></script>
    <script type="text/javascript" src="js/select2.min.js"></script>
    <script type="text/javascript" src="js/jquery.SuperSlide.2.1.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <style type="text/css">
        #head {
            background: #fff;
        }

        .nav_shu .nLi h3 a {
            color: #333;
        }

        .nav_shu .nLi h3 a:hover span,
        .nav_shu .nLi.on h3 a span,
        .submenu .subnav a span,
        .submenu .subnav a:hover span {
            color: #333;
            border-color: #333;
        }

        #head .login_status li a {
            color: #333;
        }
    </style>
</head>

<body>
<!--[if lte IE 8]>
<div class="ie7_hints">温馨提示：您所使用的浏览器版本过低，为保证账户安全和浏览体验建议升级为最新版本浏览器</div>
<![endif]-->
<!--头部start-->
<div class="ease-3" id="head">
    <div class="nr w1200 clearfix mar0">
        <div class="fl"><a class="logo" href="index.html" title=""><img src="images/logo02.png" alt="" /></a></div>
        <div class="fl">
            <div class="navbox">
                <ul class="clearfix nav_shu">
                    <li class="nLi">
                        <h3><a class="ease-1" href="index.html"><span>探索游戏</span></a></h3>
                    </li>
                    <li class="nLi on">
                        <h3><a class="ease-1" href="found_friend.html"><span>发现朋友</span></a></h3>
                    </li>
                    <li class="nLi"><h3><a class="ease-1" href="customerService.html"><span>客服</span></a></h3>
                    </li>
                </ul>
            </div>
        </div>
        <div class="head-right clearfix fr">
            <div class="searchbox fl">
                <form method="post">
                    <input type="text" class="input_text search_input ease-3 radius-5" placeholder="有没有弱提示" />
                    <button class="search_submit ease-3">搜索</button>
                </form>
            </div>
            <ul class="login_status fr clearfix">
                <!--登录前的状态-->
                <li class="top_item top_item_login"><a href="login.html" class="link-a">登录</a></li>
                <li class="top_item top_item_login"><a href="###" class="link-a">/</a></li>
                <li class="top_item top_item_login"><a href="register.html" class="link-a txt-peach">注册</a></li>
            </ul>
        </div>
    </div>
</div>
<!--头部end-->

<div class="mainbody w1200 mar0 page_playerInfo">
    <div class="section playerInfo">
        <div class="head">
            <div class="filter_list found_friend_list">
                <ul id="player_info">
                    <!-- <li>
                        <a href="###" class="item ease-1 clearfix">
                            <div class="pic fl ease-1 radius-circle"><img src="images/found_friend01.jpg" alt="">
                            </div>
                            <div class="txt">
                                <h1 class="title fs20 text-overflow">Unlimited_Deer_</h1>
                                <p class="desc fs14 txt-666 mb10">coldezhang@foxmail.com</p>
                                <p class="tag inlineblock ml10"><span><em>测试</em></span><span><em>射击</em></span></p>
                            </div>
                        </a>
                    </li> -->
                </ul>
            </div>
        </div>
        <div class="player_desc">
            <ul class="clearfix">
                <li class="sex"><label>性别：</label><span class="txt">男</span></li>
                <li class="firstGame"><label>TA玩过的第一款游戏是：</label><span class="txt">XXXXXXXX</span></li>
                <li class="age"><label>年龄：</label><span class="txt">20</span></li>
                <li class="favGam"><label>TA最喜欢一款游戏是：</label><span class="txt">XXXXXXXX</span></li>
                <li class="local"><label>地区：</label><span class="txt iconfont">&#xe6e3;</span></li>
                <li class="developed"><label>TA曾经开发过：</label><span class="txt"><a href="###">跳转游戏列表</a></span></li>
                <li class="qqNum"><label>QQ：</label><span class="txt">2751268851</span></li>
                <li class="developing"><label>TA从事开发：</label><span class="txt">XXXXXXXX</span></li>
            </ul>
        </div>
    </div>
    <div class="section mb20">
        <div class="nr w1200 mar0">
            <div class="bt_index clearfix">
                <h2 class="fl">TA发布过</h2><a href="more.html" class="more ease-1">更多<i
                    class="iconfont ease-3"></i></a>
            </div>
            <div class="list_download_con">
                <ul class="clearfix" id="publishedList">
                    <!-- <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li> -->
                </ul>
            </div>
        </div>
    </div>
    <div class="section">
        <div class="nr w1200 mar0">
            <div class="bt_index clearfix">
                <h2 class="fl">TA赞过</h2>
            </div>
            <div class="list_download_con">
                <ul class="clearfix" id="evaluatedList">
                    <!-- <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="item ease-3 clearfix">
                            <a href="trial_details.html">
                                <div class="pic"><img src="images/pic_01.jpg" alt="北京北方华光十五成立周年暨二零一四年年会庆典"></div>
                                <div class="txt">
                                    <div class="title">泰坦尼克</div>
                                    <p class="des txt-666 mb10">详情详情详情详情详情详情详情详情详情详情详情详情详情。</p>
                                    <p class="date txt-999">2019/06/13 15:30</p>
                                </div>
                            </a>
                        </div>
                    </li> -->
                </ul>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //下拉菜单美化js
    $(function () {
        $('.select').select2({
            minimumResultsForSearch: Infinity,
        });
    })
    // 获取地址栏参数
    var url = window.location.search;
    var playerId = url.substring(url.lastIndexOf('=')+1, url.length);
    // console.log(playerId)
    var player = {'userId':playerId}
    var playerInformation = (player) => {
        $.ajax({
            type: 'POST',
            contentType: 'application/json',
            dataType: 'json',
            url: `${baseUrl}/gameHub/user/personalData`,
            data: JSON.stringify(player),
            success: function (data) {
                console.log(data, 255255255255)
                var personData = data.personData
                var infoStr = `<li>` +
                    `<a href="player_information.html?userId=` + personData.id + `" class="item ease-1 clearfix">` +
                    `<div class="pic fl ease-1 radius-circle"><img src="${fileUrl}` + personData.headUrl + `" alt=""></div>` +
                    `<div class="txt">` +
                    `<h1 class="title fs20 text-overflow">` + personData.nickName + `</h1>` +
                    `<p class="desc fs14 txt-666 mb10">` + personData.email + `</p>` +
                    `<p class="tag inlineblock ml10"><span><em>` + personData.gameType + `</em></span></p>` +
                    `</div>` +
                    `</a>` +
                    `</li>`
                $('#player_info').append(infoStr)
                // 他的个人信息
                var timestamp = personData.birth
                var d = new Date(timestamp * 1000);    //根据时间戳生成的时间对象
                var age = (new Date().getFullYear() - d.getFullYear())
                $('.player_desc .sex span').text(personData.sex)
                $('.player_desc .firstGame span').text(personData.firstGame)
                $('.player_desc .age span').text(age)
                $('.player_desc .favGam span').text(personData.favorite)
                $('.player_desc .local span').text(personData.areaPath)
                $('.player_desc .developed span').text('')
                $('.player_desc .qqNum span').text(personData.qq)
                $('.player_desc .developing span').text('')
                // 他发布过的
                var publishedList = personData.publishedList
                $('#publishedList').append(runderList(publishedList))
                // 他发布过的
                var evaluatedList = personData.evaluatedList
                $('#evaluatedList').append(runderList(evaluatedList))
            },
            error: function () {
            }
        })
    }
    playerInformation(player);
    var runderList = (list) => {
        str = ''
        if (list) {
            list.map(function (val, idx) {
                let toUrl = val.gameClassify == 1 ? 'trial_details.html' : 'idea_details.html'
                if (idx <= 3) {
                    var d = new Date(val.createTime * 1000);    //根据时间戳生成的时间对象
                    var createTime = (d.getFullYear()) + "/" +
                        (d.getMonth() + 1) + "/" +
                        (d.getDate()) + " " +
                        (d.getHours()) + ":" +
                        (d.getMinutes())
                    //  + ":" +
                    // (d.getSeconds())
                    str += `<li>` +
                        `<div class="item ease-3 clearfix">`+
                        `<a href="${toUrl}?id=${val.id}">`+
                        `<div class="pic"><img src="${fileUrl}` + val.gamePic + `" alt=""></div>`+
                        `<div class="txt">`+
                        `<div class="title">` + val.gameName + `</div>`+
                        `<p class="des txt-666 mb10">` + val.briefIntroduction + `</p>`+
                        `<p class="date txt-999">` + createTime + `</p>`+
                        `</div>`+
                        `</a>`+
                        `</div>`+
                        `</li>`
                }
                // console.log(val)
            })
        }
        return str
    }
</script>

</body>

</html>
